ID;Difficulty;Building;Position;Rotation;Prior State;Type;Other Premises;Query;Code
B2;Easy;School;[-1843.2, 238.6, 1022.1];[352.7, 150.1, 0];-;Visibility;2+ walls;Hide all walls.;for wall in ifc.find_all_walls():\n    l.set_object_visibility(wall.guid, False)
B4;Easy;School;[2029.2, 2497.3, 797.0];[14.0, 39.7, 0];-;Visibility;2 windows;Hide only the windows in my field of view.;"# Get the IDs of all windows\nwindow_ids = [window.guid for window in ifc.find_all_windows()]\n\n# Hide the windows that are in the field of view\nfor obj in l.in_sight():\n    if obj[""id""] in window_ids:\n        l.set_object_visibility(obj[""id""], False)"
B6;Easy;School;[2045.5, 1630.6, 827.8];[2.3, 343.6, 0];l.set_object_visibility('2UMN_OQKrAshZl3dHPuZ$p', False)\nl.set_object_visibility('2UMN_OQKrAshZl3dHPuZuz', False);Visibility;2 hidden doors;Show the hidden left door.;# Get the id of the left door\ndoor_ids = [entity.guid for entity in ifc.find_all_doors()]\nhidden_doors = l.get_hidden_objects()\n\nfor door_id in door_ids:\n    if l.is_entity_to_my_left(door_id) and door_id in hidden_doors:\n        l.set_object_visibility(door_id, True)\n        break
B8;Hard;School;[795.2, 255.5, 76.8];[356.4, 252.8, 0];-;Visibility, Coloring;2+ walls, 1 stair;Hide all stairs and make all walls green.;# Hide all stairs\nfor stair in ifc.find_all_stairs():\n        l.set_object_visibility(stair.guid, False)\n\n#Make all walls green\nfor wall in ifc.find_all_walls():\n        l.set_object_color(wall.guid, r=1.0, g=1.0, b=0.0)
B10;Hard;School;[2751.7, 982.5, 116.0];[354.3, 312.1, 0];l.set_object_visibility('0OCjL9Oi14tu4iiPw9P_OI', False);Visibility, Camera;1 hidden window;Show the hidden window and move 2 meters towards it.;"# Get the list of hidden objects\nhidden_objects = l.get_hidden_objects()\n\n# Filter out the hidden windows\nwindow_ids = [entity.guid for entity in ifc.find_all_windows()]\nhidden_windows = [obj_id for obj_id in hidden_objects if obj_id in window_ids]\n\n# Show the first hidden window and move towards it\nif hidden_windows:\n    window_id = hidden_windows[0]\n    l.set_object_visibility(window_id, True)\n    window_location = l.get_object_info(window_id)[""location""]\n    camera_location = l.whereami()[""location""]\n    \n    # Calculate the direction vector towards the window\n    direction_vector = [\n        window_location[0] - camera_location[0],\n        window_location[1] - camera_location[1],\n        window_location[2] - camera_location[2]\n    ]\n    \n    # Normalize the direction vector\n    magnitude = (direction_vector[0]**2 + direction_vector[1]**2 + direction_vector[2]**2)**0.5\n    direction_vector = [d / magnitude for d in direction_vector]\n    \n    # Move 2 meters (200 cm) towards the window\n    l.move_relative_to(\n        direction_vector[0] * 200,\n        direction_vector[1] * 200,\n        direction_vector[2] * 200\n    )"
B12;Easy;School;[-496.2, 661.2, 610.7];[342.6, 291.2, 0];-;Removal;2+ stairs;Remove all stairs in sight.;"#Get ids of all stairs\nstair_ids = [stair.guid for stair in ifc.find_all_stairs()]\n\n#Remove stairs in sight\nfor object in l.in_sight():\n    entity_id = object[""id""]\n    if entity_id in stair_ids:\n        l.destroy_object(entity_id)"
B14;Easy;School;[2503.8, 1897.7, 901.2];[359.9, 17.0, 0];-;Removal;3+ windows;Delete the second window from the right.;"# Collect all window IDs\nwindow_ids = [entity.guid for entity in ifc.find_all_windows()]\n\n# Sort windows based on their x-coordinate to determine their position relative to the camera\nwindows_sorted = sorted([l.get_object_info(_id) for _id in window_ids], key=lambda obj: obj[""location""][0])\n\n# Delete the second window from the right\nif len(windows_sorted) >= 2:\n    second_window_from_right_id = windows_sorted[-2][""id""]\n    l.destroy_object(second_window_from_right_id)\n"
B16;Easy;School;[-1272.9, 1204.1, 488.7];[1.1, 191.0, 0];-;Removal;3+ walls (1 blue);Remove the blue wall.;"#Find all walls\nwall_ids = [entity.guid for entity in ifc.find_all_walls()]\n\n#Check each wall to see if it is blue and remove it if it is\nfor wall in l.all_objects():\n    if wall[""id""] in wall_ids:\n        if wall[""color""] == [0.0, 0.0, 1.0]:  # Blue color\n            l.destroy_object(wall[""id""])"
B18;Hard;School;[1057.0, 319.7, 926.4];[337.1, 280.8, 0];-;Removal, Transformation;2 doors;Remove the left door and rotate the other door 90 degrees clockwise.;"# Find all doors in the scene\ndoor_ids = [entity.guid for entity in ifc.find_all_doors()]\n\n#Identify the left door\nleft_door_id = None\nvisible_door_ids = []\n\nfor obj in l.in_sight():\n    obj_id = obj[""id""]\n    if obj_id in door_ids:\n        visible_door_ids.append(obj_id)\n        if l.is_entity_to_my_left(obj_id):\n            left_door_id = obj_id\n\n#Destroy the left door\nif left_door_id is not None:\n    l.destroy_object(left_door_id)\n\nremaining_door_ids = [d_id for d_id in visible_door_ids if d_id != left_door_id]\n\n#Rotate the other door\nif remaining_door_ids:\n    remaining_door_id = remaining_door_ids[0]\n    l.rotate_object_relative_to(remaining_door_id, pitch=0, yaw=-90, roll=0)"
B20;Hard;School;[3260.0, 1109.6, 166.1];[0.9, 193.1, 0];l.set_object_visibility('0OCjL9Oi14tu4iiPw9P_V6', False);Removal, Visibility;2 windows (1 hidden);Delete the visible window and show the other one.;"# Get the list of all windows\nwindow_ids = [entity.guid for entity in ifc.find_all_windows()]\n\n# Identify and delete the visible window\nvisible_window_id = None\nfor object in l.in_sight():\n    if object[""id""] in window_ids:\n        visible_window_id = object[""id""]\n        l.destroy_object(visible_window_id)\n        break\n\n# Show the other window if it exists\nif visible_window_id is not None:\n    for window_id in window_ids:\n        if window_id != visible_window_id and l.set_object_visibility(window_id, True):\n            break"
B22;Easy;School;[1472.8, 2019.5, 663.3];[5.0, 354.5, 0];-;Coloring;2+ walls;Paint all walls black.;# Paint all walls black\nfor wall in ifc.find_all_walls():\n    l.set_object_color(_id=wall.guid, r=0.0, g=0.0, b=0.0)
B24;Easy;School;[-253.5, 304.2, 494.2];[354.8, 0.1, 0];-;Coloring;2 stairs (1 top);Set the top stairs to orange.;"# Find all stairs\nstairs_ids = [stair.guid for stair in ifc.find_all_stairs()]\n# Identify the topmost stair\ntop_stair_id = None\nmax_y = float('-inf')\nfor entity in l.in_sight():\n    if entity[""id""] in stairs_ids:\n        stair_info = l.get_object_info(entity[""id""])\n        if stair_info['location'][1] > max_y:\n            max_y = stair_info['location'][1]\n            top_stair_id = entity[""id""]\n\n# Set the color of the topmost stair to orange\nif top_stair_id is not None:\n    l.set_object_color(top_stair_id, r=1.0, g=0.547, b=0.0)"
B26;Easy;School;[1088.2, -1436.2, 95.2];[57.5, 131.3, 0];-;Coloring;2+ beams (even qty.);Make half of the beams green and the other half blue.;# Get all beam entities\nbeam_ids = [entity.guid for entity in ifc.find_all_beams()]\n\n# Split beam IDs into two halves\nhalf_point = len(beam_ids) // 2\nfirst_half = beam_ids[:half_point]\nsecond_half = beam_ids[half_point:]\n\n# Set colors for each half\nfor beam_id in first_half:\n    l.set_object_color(_id=beam_id, r=0.0, g=1.0, b=0.0)  # Green\n\nfor beam_id in second_half:\n    l.set_object_color(_id=beam_id, r=0.0, g=0.0, b=1.0)  # Blue
B28;Hard;School;[-6.2, 321.3, 194.3];[345.2, 275.3, 0];-;Coloring, Camera;2 doors;Set the right door to purple, and move 2 meters closer to it.;"# Find the right door\ndoor_ids = [entity.guid for entity in ifc.find_all_doors()]\nright_door_id = None\nfor entity in l.in_sight():\n    if entity[""id""] in door_ids and l.is_entity_to_my_right(entity[""id""]):\n        right_door_id = entity[""id""]\n        break\n\n# Set the color of the right door to purple\nif right_door_id is not None:\n    l.set_object_color(right_door_id, r=0.5, g=0.0, b=0.5)\n    # Move 2 meters closer to the door\n    door_location = l.get_object_info(right_door_id)[""location""]\n    camera_location = l.whereami()[""location""]\n    direction_vector = [\n        door_location[0] - camera_location[0],\n        door_location[1] - camera_location[1],\n        door_location[2] - camera_location[2]\n    ]\n    magnitude = sum([v**2 for v in direction_vector])**0.5\n    if magnitude != 0:\n        normalized_direction = [\n            direction_vector[0] / magnitude,\n            direction_vector[1] / magnitude,\n            direction_vector[2] / magnitude\n        ]\n        move_amount = 200  # 2 meters in cm\n        l.move_relative_to(\n            x=normalized_direction[0] * move_amount,\n            y=normalized_direction[1] * move_amount,\n            z=normalized_direction[2] * move_amount\n        )\n"
B30;Hard;School;[-1904.7, 2772.7, 959.5];[359.4, 245.8, 0];-;Coloring, Removal;1 wall + anything;Paint the wall pink, and remove any other object in sight.;"# Find the wall\nwall_ids = [entity.guid for entity in ifc.find_all_walls()]\nwall_id = None\nfor entity in l.in_sight():\n    if entity[""id""] in wall_ids:\n        wall_id = entity[""id""]\n\n# Paint the wall pink\nif wall_id is not None:\n    l.set_object_color(wall_id, r=1.0, g=0.75, b=0.8)\n\n# Remove all other objects in sight\nfor object in l.in_sight():\n    if object[""id""] != wall_id:\n        l.destroy_object(object[""id""])"
B32;Easy;School;[2270.1, 2275.9, 485.0];[14.4, 359.0, 0];-;Transformation;2+ walls;Reduce the height of all walls by half.;# Reduce the height of all walls by half\nfor wall in ifc.find_all_walls():\n    l.scale_object_to(wall.guid, 0.5, 1, 1)
B34;Easy;School;[-2185.1, 95.3, 472.1];[0.0, 301.9, 0];-;Transformation;2 stairs;Move the stairs below to the position of the stairs above.;"# Find all stairs\nstairs_ids = [stair.guid for stair in ifc.find_all_stairs()]\n\n# Separate stairs into those above and those below the camera\nabove_stairs = []\nbelow_stairs = []\ncamera_position = l.whereami()\n\nfor entity in l.in_sight():\n    if entity[""id""] in stairs_ids:\n        stair_position = l.get_object_info(entity[""id""])[""location""][1]  # Get the y-coordinate (height)\n        if stair_position > camera_position[""location""][1]:\n            above_stairs.append(entity)\n        else:\n            below_stairs.append(entity)\n\n# If there are stairs both above and below, move the below stairs to the position of the above stairs\nif above_stairs and below_stairs:\n    above_stair = above_stairs[0]\n    below_stair = below_stairs[0]\n    \n    above_stair_position = l.get_object_info(above_stair[""id""])[""location""]\n    below_stair_position = l.get_object_info(below_stair[""id""])[""location""]\n    delta_x = above_stair_position[0] - below_stair_position[0]\n    delta_y = above_stair_position[1] - below_stair_position[1]\n    delta_z = above_stair_position[2] - below_stair_position[2]\n    l.move_object_relative_to(below_stair[""id""], delta_x, delta_y, delta_z)"
B36;Easy;School;[2597.0, 1940.1, 612.5];[338.5, 347.5, 0];-;Transformation;1 window;Make the window twice as small.;"# Find the window in the scene\nwindow_ids = [entity.guid for entity in ifc.find_all_windows()]\nwindow_id = None\nfor entity in l.in_sight():\n    if entity[""id""] in window_ids:\n        window_id = entity[""id""]\n        break\n\n# Scale down the window by half\nif window_id is not None:\n    l.scale_object_to(window_id, 0.5, 0.5, 0.5)"
B38;Hard;School;[582.9, -368.3, 168.4];[356.7, 196.0, 0];l.set_object_visibility('2UMN_OQKrAshZl3dHPulEv', False);Transformation, Visibility;2 doors (1 hidden);Rotate the visible door 90 degrees counter clockwise and show the hidden one.;"# Rotate the visible door 90 degrees counter-clockwise\nvisible_doors = [entity.guid for entity in ifc.find_all_doors() if entity.guid in [obj[""id""] for obj in l.in_sight()]]\nif visible_doors:\n    l.rotate_object_relative_to(visible_doors[0], 0, -90, 0)\n\n# Show the hidden door\nhidden_doors = [entity.guid for entity in ifc.find_all_doors() if entity.guid in l.get_hidden_objects()]\nif hidden_doors:\n    l.set_object_visibility(hidden_doors[0], True)"
B40;Hard;School;[2631.3, 2620.6, 610.5];[293.2, 335.4, 0];-;Transformation, Coloring;2 stairs;Move both stairs 1 meter towards me and paint them black.;"import math\nc_loc = l.whereami()[""location""]\nfor stair in ifc.find_all_stairs():\n    s_id = stair.guid\n    s_loc = l.get_object_info(s_id)[""location""]\n    vec = [c_loc[0] - s_loc[0], c_loc[1] - s_loc[1], c_loc[2] - s_loc[2]]\n    mag = math.sqrt(vec[0]**2 + vec[1]**2 + vec[2]**2)\n    if mag > 0:\n        m = [v / mag * 100 for v in vec]\n        l.move_object_relative_to(s_id, m[0], m[1], m[2])\n    l.set_object_color(s_id, 0.0, 0.0, 0.0)"
B42;Easy;School;[275.4, 2758.0, 630.2];[355.8, 270.1, 0];-;Camera;-;Tilt the camera 90 degrees clockwise, keeping the center of the view fixed.;"# Get the current camera view\ncamera_view = l.get_camera_view()\n\n# Rotate the camera 90 degrees clockwise around the vertical axis (yaw)\nl.rotate_relative_to(pitch=0, yaw=90, roll=0)\n\n# Adjust the camera position to keep the center of the view fixed\n# Calculate the difference in the x and z positions before and after the rotation\noriginal_position = camera_view[""location""]\nnew_position = l.whereami()[""location""]\n\n# Calculate the difference in x and z positions\ndx = new_position[0] - original_position[0]\ndz = new_position[2] - original_position[2]\n\n# Move the camera back to the original position\nl.move_relative_to(x=-dx, y=0, z=-dz)"
B44;Easy;School;[54.1, 998.3, 140.2];[0.4, 270.5, 0];-;Camera;-;Move sideways 4 meters to the left.;l.move_relative_to(x=-400, y=0, z=0)
B46;Easy;School;[858.6, 841.2, 533.6];[358.5, 270.6, 0];-;Camera;1 window;Move to the other side of the window and look back at it.;# Move to the opposite side of the window\nl.move_forward(-1000)  # Move 1 meter backwards\n\n# Look at the window again\nl.look_at(window_id)
B48;Hard;School;[-1300.9, 3136.8, 501.9];[352.2, 190.4, 0];-;Camera, Removal;1 door;Remove the door in front of me and enter the room inside.;"# Find the door in front of the camera\ndoor_ids = [entity.guid for entity in ifc.find_all_walls()]\ndoor_in_front_id = None\n\nfront_object = l.front_object(1000)\nif front_object[""id""] in door_ids:\n    door_in_front_id = front_object[""id""]\n\n# If the front object exists but is NOT a wall, or if nothing was in front:\nif door_in_front_id is None:\n    for entity in l.in_sight():\n        if entity[""id""] in door_ids and l.is_entity_in_front_of_me(entity[""id""]):\n            door_in_front_id = entity[""id""]\n            break\n\nif door_in_front_id:\n    dist = l.distance(door_in_front_id)\n    l.destroy_object(door_in_front_id)\n    l.move_forward(dist + 100)"
B50;Hard;School;[2430.1, 2530.2, 878.3];[346.6, 36.4, 0];-;Camera, Transformation;2 stairs (1 left);Look at the stairs on the left and rotate them 1 radian around the vertical axis.;import math\n\n# Find the stairs\nstairs_ids = [entity.guid for entity in ifc.find_all_stairs()]\nstairs_id = None\nfor st_id in stairs_ids:\n    if l.is_entity_to_my_left(st_id):\n        stairs_id = st_id\n        break\n\n# Look at the stairs and rotate them\nif stairs_id is not None:\n    l.look_at(stairs_id)\n    # math.degrees(1) converts 1 radian to degrees\n    l.rotate_object_relative_to(stairs_id, 0, math.degrees(1), 0)
B52;Easy;School;[-2028.2, 427.6, 856.0];[0.6, 216.9, 0];-;Addition;2+ walls;Load a sofa next to the wall to my right.;"# Load the sofa\nsofa_id = l.load_prop(""data/props/GlamVelvetSofa.glb"")\n\n# Move the sofa to the wall to the right\nl.move_prop_to_wall(sofa_id)\nl.move_prop_right(sofa_id, 50)  # Move it 0.5 meters to the right to ensure it's next to the wall"
B54;Easy;School;[-1594.4, 1746.2, 173.1];[348.6, 174.8, 0];-;Addition;-;Add two toy cars and a plant between them.;"# Load the first toy car\ncar1_id = l.load_prop(""data/props/ToyCar.glb"")\n\n# Position the first toy car on the floor\nl.move_prop_to_floor(car1_id)\n\n# Load the second toy car\ncar2_id = l.load_prop(""data/props/ToyCar.glb"")\n\n# Position the second toy car on the floor and move it 1 meter to the right of the first car\nl.move_prop_to_floor(car2_id)\nl.move_prop_right(car2_id, 100)\n\n# Load the plant\nplant_id = l.load_prop(""data/props/DiffuseTransmissionPlant.glb"")\n\n# Position the plant on the floor and move it between the two cars\nl.move_prop_to_floor(plant_id)\nl.move_prop_right(plant_id, 50)  # Move it 0.5 meters to the right of the first car"
B56;Easy;School;[1416.9, -744.6, 113.4];[355.4, 171.9, 0];-;Addition;-;Add four poufs next to each other, forming a square.;"# Load four poufs\npouf_ids = [\n    l.load_prop(""data/props/SpecularSilkPouf.glb""),\n    l.load_prop(""data/props/SpecularSilkPouf.glb""),\n    l.load_prop(""data/props/SpecularSilkPouf.glb""),\n    l.load_prop(""data/props/SpecularSilkPouf.glb"")\n]\n\n# Position the first pouf on the floor\nl.move_prop_to_floor(pouf_ids[0])\n\n# Position the other poufs relative to the first one to form a square\nl.move_prop_to_floor(pouf_ids[1])\nl.move_prop_right(pouf_ids[1], 100)  # Move 1 meter to the right\n\nl.move_prop_to_floor(pouf_ids[2])\nl.move_prop_right(pouf_ids[2], 100)  # Move 1 meter to the right\nl.move_prop_forward(pouf_ids[2], 100)  # Move 1 meter forward\n\nl.move_prop_to_floor(pouf_ids[3])\nl.move_prop_forward(pouf_ids[3], 100)  # Move 1 meter forward"
B58;Hard;School;[2542.4, 461.3, 136.8];[356.9, 75.5, 0];-;Addition;-;Load a boom box and a lamp mounted to the wall above it.;"# Load the boom box and position it on the floor\nboom_box_id = l.load_prop(""data/props/BoomBox.glb"")\nl.move_prop_to_floor(boom_box_id)\n\n# Load the lamp and position it on the wall above the boom box\nlamp_id = l.load_prop(""data/props/IridescenceLamp.glb"")\nl.move_prop_to_wall(lamp_id)\nl.move_prop_right(lamp_id, -50)  # Move it 0.5 meters to the left of the boom box\nl.move_prop_up(lamp_id, 100)  # Move it 1 meter up from the boom box"
B60;Hard;School;[-212.5, 776.2, 249.8];[331.6, 112.7, 0];-;Addition;-;Add two toy cars on the floor looking at opposite directions.;"# Load the first toy car and place it on the floor\ncar1_id = l.load_prop(""data/props/ToyCar.glb"")\nl.move_prop_to_floor(car1_id)\n\n# Load the second toy car and place it on the floor\ncar2_id = l.load_prop(""data/props/ToyCar.glb"")\nl.move_prop_to_floor(car2_id)\n\n# Move the second car 1 meter to the right of the first car\nl.move_prop_right(car2_id, 100)\n\n# Rotate the second car 180 degrees to face the opposite direction\nl.rotate_prop_yaw(car2_id, 180)"
